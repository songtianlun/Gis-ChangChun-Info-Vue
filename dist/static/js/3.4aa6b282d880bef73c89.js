webpackJsonp([3],{KVVV:function(t,a,i){var e,s,n,h;h=function(t,a){"use strict";void 0===a.Layer&&(a.Layer=a.Class);var i=a.Layer.extend({initialize:function(t){this.cfg=t,this._el=a.DomUtil.create("div","leaflet-zoom-hide"),this._data=[],this._max=1,this._min=0,this.cfg.container=this._el},onAdd:function(i){var e=i.getSize();this._map=i,this._width=e.x,this._height=e.y,this._el.style.width=e.x+"px",this._el.style.height=e.y+"px",this._el.style.position="absolute",this._origin=this._map.layerPointToLatLng(new a.Point(0,0)),i.getPanes().overlayPane.appendChild(this._el),this._heatmap||(this._heatmap=t.create(this.cfg)),i.on("moveend",this._reset,this),this._draw()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._el),t.off("moveend",this._reset,this)},_draw:function(){if(this._map){var t=this._map.getPanes().mapPane._leaflet_pos;this._el.style[i.CSS_TRANSFORM]="translate("+-Math.round(t.x)+"px,"+-Math.round(t.y)+"px)",this._update()}},_update:function(){var t,a,i,e={max:this._max,min:this._min,data:[]};if(t=this._map.getBounds(),a=this._map.getZoom(),i=Math.pow(2,a),0!=this._data.length){for(var s=[],n=this.cfg.scaleRadius?i:1,h=0,r=0,o=this.cfg.valueField,l=this._data.length;l--;){var d=this._data[l],m=d[o],u=d.latlng;if(t.contains(u)){h=Math.max(m,h),r=Math.min(m,r);var _,p=this._map.latLngToContainerPoint(u),c={x:Math.round(p.x),y:Math.round(p.y)};c[o]=m,_=d.radius?d.radius*n:(this.cfg.radius||2)*n,c.radius=_,s.push(c)}}this.cfg.useLocalExtrema&&(e.max=h,e.min=r),e.data=s,this._heatmap.setData(e)}else this._heatmap&&this._heatmap.setData(e)},setData:function(t){this._max=t.max||this._max,this._min=t.min||this._min;for(var i=this.cfg.latField||"lat",e=this.cfg.lngField||"lng",s=this.cfg.valueField||"value",n=(t=t.data).length,h=[];n--;){var r=t[n],o={latlng:new a.LatLng(r[i],r[e])};o[s]=r[s],r.radius&&(o.radius=r.radius),h.push(o)}this._data=h,this._draw()},addData:function(t){if(t.length>0)for(var i=t.length;i--;)this.addData(t[i]);else{var e=this.cfg.latField||"lat",s=this.cfg.lngField||"lng",n=this.cfg.valueField||"value",h=t,r={latlng:new a.LatLng(h[e],h[s])};r[n]=h[n],this._max=Math.max(this._max,r[n]),this._min=Math.min(this._min,r[n]),h.radius&&(r.radius=h.radius),this._data.push(r),this._draw()}},_reset:function(){this._origin=this._map.layerPointToLatLng(new a.Point(0,0));var t=this._map.getSize();this._width===t.x&&this._height===t.y||(this._width=t.x,this._height=t.y,this._el.style.width=this._width+"px",this._el.style.height=this._height+"px",this._heatmap._renderer.setDimensions(this._width,this._height)),this._draw()}});return i.CSS_TRANSFORM=function(){for(var t=document.createElement("div"),a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],i=0;i<a.length;i++){var e=a[i];if(void 0!==t.style[e])return e}return a[0]}(),i},void 0!==t&&t.exports?t.exports=h(i("JkCx"),i("nrd6")):(s=[i("JkCx"),i("nrd6")],void 0===(n="function"==typeof(e=h)?e.apply(a,s):e)||(t.exports=n))},e4Mb:function(t,a){},"gOa+":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});i("QN78");var e=i("KVVV"),s=i.n(e),n=i("nrd6"),h=i.n(n),r={name:"gis-population-density",data:function(){return{heatmapLayer:null,map:null}},mounted:function(){this.initmap()},methods:{initmap:function(){for(var t=[],a=0;a<800;a++){var i={lat:43.8+1e-6*Math.ceil(3e5*Math.random()),lng:125.2+1e-6*Math.ceil(3e5*Math.random()),count:Math.ceil(1*Math.random())};t.push(i)}var e={max:800,data:t};this.heatmapLayer=new s.a({radius:.005,maxOpacity:.8,scaleRadius:!0,useLocalExtrema:!0,latField:"lat",lngField:"lng",valueField:"count"});var n=h.a.tileLayer.chinaProvider("GaoDe.Normal.Map",{attribution:"Haut-Gis-Org © 高德地图"}),r=h.a.tileLayer.chinaProvider("GaoDe.Satellite.Map",{attribution:"Haut-Gis-Org © 高德地图"}),o=h.a.tileLayer.chinaProvider("GaoDe.Satellite.Annotion",{attribution:"Haut-Gis-Org © 高德地图"}),l=h.a.layerGroup([r,o]),d=h.a.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Haut-Gis-Org © OpenStreetMap"});this.map=h.a.map("map",{center:[43.912301,125.323877],zoom:12,layers:[n]});var m={"高德地图":n,"高德影像":l,OpenStreetMap:d},u={"人群密集热力图":this.heatmapLayer};h.a.control.layers(m,u).addTo(this.map),this.heatmapLayer.setData(e),this.heatmapLayer.addTo(this.map),h.a.control.scale({maxWidth:200,metric:!0,imperial:!1}).addTo(this.map)}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{margin:"0 auto",width:"100%",height:"100%"},attrs:{id:"map"}})},staticRenderFns:[]};var l=i("VU/8")(r,o,!1,function(t){i("e4Mb")},"data-v-721c9e3c",null);a.default=l.exports}});
//# sourceMappingURL=3.4aa6b282d880bef73c89.js.map