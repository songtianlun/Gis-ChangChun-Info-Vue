{"version":3,"sources":["webpack:///src/pages/gis-navi-map.vue","webpack:///./src/pages/gis-navi-map.vue?2060","webpack:///./src/pages/gis-navi-map.vue"],"names":["gis_navi_map","name","data","map","infoWindow","startstring","approach1string","approach2string","stopstring","navityp","driving","walking","startlatlng","approach1latlng","approach2latlng","stoplatlng","transOptions","transfer","mounted","this","initmap","initautoinput","methods","mapclick","that","Object","js_AMap","then","AMap","console","log","scale","Scale","visible","toolBar","ToolBar","Map","resizeEnable","center","zoom","isHotspot","addControl","mouseTool","MouseTool","PlaceSearch","Driving","panel","Walking","city","policy","TransferPolicy","LEAST_TIME","Transfer","e","autostart","Autocomplete","input","autoapproach1","autoapproach2","autostop","event","addListener","selectstart","selectapproach1","selectapproach2","selectstop","clickinput","document","getElementById","style","visibility","poi","location","lng","lat","setnavivalue","value","startdriving","search","LngLat","waypoints","status","result","$message","message","type","startworking","starttrans","startnavi","pages_gis_navi_map","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","on","click","_v","staticStyle","width","color","_m","placeholder","model","callback","$$v","expression","label","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.2ee000960d0177e534fb.js","sourcesContent":["<template>\n  <div id=\"container\" class=\"map\" v-on:click=\"mapclick\">\n    <div id=\"panel\"></div>\n    <div class=\"input-card\" style='width:24rem;'>\n      <label style='color:grey'>地图导航</label>\n      <div class=\"input-item\">\n        <div class=\"input-item-prepend\"><span class=\"input-item-text\">起点</span></div>\n        <input id='start' type=\"text\" v-on:click=\"clickinput\" placeholder='请输入起点，必须'>\n      </div>\n      <div class=\"input-item\">\n        <div class=\"input-item-prepend\"><span class=\"input-item-text\" >途径1</span></div>\n        <input id='approach1' type=\"text\" v-on:click=\"clickinput\" placeholder='请输入第一个途径点，非必需'>\n      </div>\n      <div class=\"input-item\">\n        <div class=\"input-item-prepend\"><span class=\"input-item-text\" >途径2</span></div>\n        <input id='approach2' type=\"text\" v-on:click=\"clickinput\" placeholder='请输入第二个途径点，非必需'>\n      </div>\n      <div class=\"input-item\">\n        <div class=\"input-item-prepend\"><span class=\"input-item-text\" >终点</span></div>\n        <input id='stop' type=\"text\" v-on:click=\"clickinput\" placeholder='请输入终点，必须'>\n      </div>\n      <div class=\"input-item\">\n        <template>\n          <el-radio-group v-model=\"navityp\">\n            <el-radio :label=\"3\" value=\"3\">驾车模式</el-radio>\n            <el-radio :label=\"6\" value=\"6\">步行模式</el-radio>\n            <el-radio :label=\"9\" value=\"9\">公交模式</el-radio>\n          </el-radio-group>\n        </template>\n      </div>\n      <input id=\"navibutton\" type=\"primary\" class=\"btn\" value=\"起点 -> 终点\" v-on:click=\"startnavi\">\n    </div>\n  </div>\n</template>\n\n<script>\n  import MapLoader from '../../src/assets/js/AMap.js'\n  export default {\n    name: 'gis-navi-map',\n    data () {\n      return {\n        map: null,\n        infoWindow: null,\n        startstring: null,\n        approach1string: null,\n        approach2string: null,\n        stopstring: null,\n        navityp: 3,\n        driving: null,\n        walking: null,\n        startlatlng: null,\n        approach1latlng: null,\n        approach2latlng: null,\n        stoplatlng: null,\n        transOptions: null,\n        transfer: null\n      }\n    },\n    mounted () {\n      let that = this\n      that.initmap()\n      that.initautoinput()\n    },\n    methods: {\n      mapclick () {\n        let that = this\n      },\n      initmap () {\n        let that = this\n        MapLoader().then(AMap => {\n          console.log('地图加载成功')\n          let scale = new AMap.Scale({\n            visible: true\n          })\n          let toolBar = new AMap.ToolBar({\n            visible: true\n          })\n          that.map = new AMap.Map('container', {\n            resizeEnable: true,\n            center: [125.323877, 43.912301],\n            zoom: 12,\n            isHotspot: false\n          })\n          that.map.addControl(scale)\n          that.map.addControl(toolBar)\n          that.mouseTool = new AMap.MouseTool(that.map)\n          let placeSearch = new AMap.PlaceSearch() // 构造地点查询类\n\n          // 构造路线导航类\n          that.driving = new AMap.Driving({\n            map: that.map,\n            panel: 'panel'\n          })\n          //  步行导航\n          that.walking = new AMap.Walking({\n            map: that.map,\n            panel: 'panel'\n          })\n          that.transOptions = {\n            map: that.map,\n            city: '北京市',\n            panel: 'panel',\n            // cityd:'乌鲁木齐',\n            policy: AMap.TransferPolicy.LEAST_TIME\n          }\n          // 构造公交换乘类\n          that.transfer = new AMap.Transfer(that.transOptions)\n        }, e => {\n          console.log('地图加载失败', e)\n        })\n      },\n      initautoinput () {\n        let that = this\n        // 输入提示\n        let autostart = new AMap.Autocomplete({\n          input: 'start'\n        })\n        let autoapproach1 = new AMap.Autocomplete({\n          input: 'approach1'\n        })\n        let autoapproach2 = new AMap.Autocomplete({\n          input: 'approach2'\n        })\n        let autostop = new AMap.Autocomplete({\n          input: 'stop'\n        })\n        AMap.event.addListener(autostart, 'select', that.selectstart)// 注册监听，当选中某条记录时会触发\n        AMap.event.addListener(autoapproach1, 'select', that.selectapproach1)// 注册监听，当选中某条记录时会触发\n        AMap.event.addListener(autoapproach2, 'select', that.selectapproach2)// 注册监听，当选中某条记录时会触发\n        AMap.event.addListener(autostop, 'select', that.selectstop)// 注册监听，当选中某条记录时会触发\n      },\n      clickinput () {\n        document.getElementById('panel').style.visibility = 'hidden'// 隐藏\n      },\n      selectstart (e) {\n        let that = this\n        console.log(e.poi)\n        that.startstring = e.poi.name\n        that.startlatlng = [e.poi.location.lng, e.poi.location.lat]\n        that.setnavivalue()\n      },\n      selectapproach1 (e) {\n        let that = this\n        console.log(e.poi)\n        that.approach1string = e.poi.name\n        that.approach1latlng = [e.poi.location.lng, e.poi.location.lat]\n        that.setnavivalue()\n      },\n      selectapproach2 (e) {\n        let that = this\n        console.log(e.poi)\n        that.approach2string = e.poi.name\n        that.approach2latlng = [e.poi.location.lng, e.poi.location.lat]\n        that.setnavivalue()\n      },\n      selectstop (e) {\n        let that = this\n        console.log(e.poi)\n        that.stopstring = e.poi.name\n        that.stoplatlng = [e.poi.location.lng, e.poi.location.lat]\n        that.setnavivalue()\n      },\n      setnavivalue () {\n        let that = this\n        let value\n        if (that.startstring) { value = that.startstring } else { value = '起点' }\n        // if (that.approach1string) { value += ' -> ' + that.approach1string }\n        // if (that.approach1string) { value += ' -> ' + that.approach1string }\n        if (that.stopstring) { value += ' -> ' + that.stopstring } else { value += ' -> ' + '终点' }\n        document.getElementById('navibutton').value = value\n      },\n      startdriving () {\n        let that = this\n        if (!that.startlatlng || !that.stoplatlng) {\n          // console.log('起点或终点为空！')\n          that.$message({\n            message: '起点或终点值无效！',\n            type: 'warning'\n          })\n          return\n        }\n        if (!that.approach1latlng && !that.approach2latlng) {\n          console.log('startpoint:' + that.startlatlng)\n          console.log('stoppoint:' + that.stoplatlng)\n          // 根据起终点经纬度规划驾车导航路线\n          that.driving.search(new AMap.LngLat(that.startlatlng[0], that.startlatlng[1]), new AMap.LngLat(that.stoplatlng[0], that.stoplatlng[1]), function (status, result) {\n            // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n            if (status === 'complete') {\n              document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n              // console.log('绘制驾车路线完成')\n              that.$message({\n                message: '绘制驾车路线完成！',\n                type: 'success'\n              })\n            } else {\n              console.log('获取驾车数据失败：' + result)\n              that.$message({\n                message: '路径规划失败！',\n                type: 'warning'\n              })\n            }\n          })\n        } else {\n          if (that.approach1latlng && that.approach2latlng) {\n            console.log('appraoch1:' + that.approach1latlng)\n            console.log('appraoch2:' + that.approach2latlng)\n            // 两个途径点\n            that.driving.search(new AMap.LngLat(that.startlatlng[0], that.startlatlng[1]), new AMap.LngLat(that.stoplatlng[0], that.stoplatlng[1]), {\n              waypoints: [new AMap.LngLat(that.approach1latlng[0], that.approach1latlng[1]), new AMap.LngLat(that.approach2latlng[0], that.approach2latlng[1]) ]\n            }, function (status, result) {\n              // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n              if (status === 'complete') {\n                document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n                // console.log('绘制驾车路线完成')\n                that.$message({\n                  message: '两个途径点的路径规划成功！！',\n                  type: 'success'\n                })\n              } else {\n                console.log('获取驾车数据失败：' + result)\n              }\n            })\n          } else if (that.approach1latlng) {\n            // 根据第一个途径点规划\n            // 根据起终点经纬度规划驾车导航路线\n            that.driving.search(new AMap.LngLat(that.startlatlng[0], that.startlatlng[1]), new AMap.LngLat(that.stoplatlng[0], that.stoplatlng[1]), {\n              waypoints: [new AMap.LngLat(that.approach1latlng[0], that.approach1latlng[1])]\n            }, function (status, result) {\n              // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n              if (status === 'complete') {\n                document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n                // console.log('绘制驾车路线完成')\n                that.$message({\n                  message: '根据第一个途径点的路径规划成功！！',\n                  type: 'success'\n                })\n              } else {\n                console.log('获取驾车数据失败：' + result)\n              }\n            })\n          } else {\n            // 根据第二个途径点规划\n            that.driving.search(new AMap.LngLat(that.startlatlng[0], that.startlatlng[1]), new AMap.LngLat(that.stoplatlng[0], that.stoplatlng[1]), {\n              waypoints: [new AMap.LngLat(that.approach2latlng[0], that.approach2latlng[1])]\n            }, function (status, result) {\n              // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n              if (status === 'complete') {\n                document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n                console.log('绘制驾车路线完成')\n                that.$message({\n                  message: '根据第二个途径点的路径规划成功！！',\n                  type: 'success'\n                })\n              } else {\n                console.log('获取驾车数据失败：' + result)\n              }\n            })\n          }\n        }\n      },\n      startworking () {\n        let that = this\n        // 根据起终点坐标规划步行路线\n        // that.walking.search([116.399028, 39.845042], [116.436281, 39.880719], function (status, result) {\n        //   // result即是对应的步行路线数据信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_WalkingResult\n        //   if (status === 'complete') {\n        //     document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n        //     console.log('绘制步行路线完成')\n        //   } else {\n        //     console.log('步行路线数据查询失败' + result)\n        //   }\n        // })\n        console.log(that.startlatlng)\n        console.log(that.stoplatlng)\n        if (that.startlatlng != null && that.stoplatlng != null) {\n          console.log('startpoint:' + that.startlatlng)\n          console.log('stoppoint:' + that.stoplatlng)\n          // 根据起终点经纬度规划驾车导航路线\n          that.walking.search([that.startlatlng[0], that.startlatlng[1]], [that.stoplatlng[0], that.stoplatlng[1]], function (status, result) {\n            // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n            if (status === 'complete') {\n              document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n              // console.log('绘制驾车路线完成')\n              that.$message({\n                message: '步导路线规划成功！',\n                type: 'success'\n              })\n            } else {\n              console.log('获取路径数据失败：' + result)\n              that.$message({\n                message: '步导路径规划失败！',\n                type: 'warning'\n              })\n            }\n          })\n        } else {\n          console.log('步行导航参数有误！')\n          that.$message({\n            message: '步行导航参数有误！（暂不支持途径点）',\n            type: 'warning'\n          })\n        }\n      },\n      starttrans () {\n        let that = this\n        // 根据起、终点坐标查询公交换乘路线\n        // that.transfer.search(new AMap.LngLat(116.291035, 39.907899), new AMap.LngLat(116.427281, 39.903719), function (status, result) {\n        //   // result即是对应的公交路线数据信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_TransferResult\n        //   if (status === 'complete') {\n        //     console.log('绘制公交路线完成')\n        //   } else {\n        //     console.log('公交路线数据查询失败' + result)\n        //   }\n        // })\n        if (that.startlatlng != null && that.stoplatlng != null) {\n          console.log('startpoint:' + that.startlatlng)\n          console.log('stoppoint:' + that.stoplatlng)\n          // 根据起终点经纬度规划驾车导航路线\n          that.transfer.search(new AMap.LngLat(that.startlatlng[0], that.startlatlng[1]), new AMap.LngLat(that.stoplatlng[0], that.stoplatlng[1]), function (status, result) {\n            // result 即是对应的驾车导航信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingResult\n            if (status === 'complete') {\n              document.getElementById('panel').style.visibility = 'visible'// 显示导航信息\n              // console.log('绘制驾车路线完成')\n              that.$message({\n                message: '公共交通路线规划成功！',\n                type: 'success'\n              })\n            } else {\n              console.log('获取路径数据失败：' + result)\n              that.$message({\n                message: '公共交通路径规划失败！',\n                type: 'warning'\n              })\n            }\n          })\n        } else {\n          console.log('公共交通导航参数有误！')\n          that.$message({\n            message: '公共交通导航参数有误！（暂不支持途径点，且仅支持长春市）',\n            type: 'warning'\n          })\n        }\n      },\n      startnavi () {\n        let that = this\n        console.log(that.navityp)\n        if (that.navityp === 3) {\n          that.startdriving()\n        } else if (that.navityp === 6) {\n          that.startworking()\n        } else if (that.navityp === 9) {\n          that.starttrans()\n        } else {\n          console.log('路径规划类型无效!')\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #container {width:300px; height: 180px; margin:0 auto;width: 100%;height: 100%}\n  .map{\n    height: 100%;\n    width: 100%;\n    float: left;\n  }\n  .input-card {\n    z-index:999;\n    display: flex;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-color: #fff;\n    background-clip: border-box;\n    border-radius: .25rem;\n    width: 22rem;\n    border-width: 10rem;\n    border-radius: 0.4rem;\n    box-shadow: 0 2px 6px 0 rgba(114, 124, 245, .5);\n    position: fixed;\n    bottom: 4rem;\n    right: 1rem;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    padding: 0.75rem 1.25rem;\n  }\n  .input-item {\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n    -ms-flex-align: center;\n    align-items: center;\n    width: 100%;\n    height: 3rem;\n  }\n  #panel {\n    z-index:1000;\n    position: fixed;\n    background-color: white;\n    max-height: 30%;\n    overflow-y: auto;\n    top: 80px;\n    right: 10px;\n    width: 24rem;\n  }\n  #panel .amap-call {\n    background-color: #009cf9;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n  }\n  #panel .amap-lib-driving {\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    overflow: hidden;\n  }\n  .input-item:last-child {\n    margin-bottom: 0;\n  }\n\n  .input-item>select, .input-item>input[type=text], .input-item>input[type=date] {\n    position: relative;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    width: 1%;\n    margin-bottom: 0;\n  }\n\n  .input-item>select:not(:last-child), .input-item>input[type=text]:not(:last-child), .input-item>input[type=date]:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0\n  }\n\n  .input-item>select:not(:first-child), .input-item>input[type=text]:not(:first-child), .input-item>input[type=date]:not(:first-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0\n  }\n\n  .input-item-prepend {\n    margin-right: -1px;\n  }\n\n  .input-item-text, input[type=text],input[type=date], select {\n    height: calc(2.2rem + 2px);\n  }\n\n  .input-item-text {\n    width: 4rem;\n    text-align: justify;\n    padding: 0.4rem 0.7rem;\n    display: inline-block;\n    text-justify: distribute-all-lines;\n    /*ie6-8*/\n    text-align-last: justify;\n    /* ie9*/\n    -moz-text-align-last: justify;\n    /*ff*/\n    -webkit-text-align-last: justify;\n    /*chrome 20+*/\n    -ms-flex-align: center;\n    align-items: center;\n    margin-bottom: 0;\n    font-size: 0.6rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    text-align: center;\n    white-space: nowrap;\n    background-color: #e9ecef;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n\n  .input-item-text input[type=checkbox], .input-item-text input[type=radio] {\n    margin-top: 0\n  }\n  html {\n    font-size: 12px;\n  }\n  * {\n    box-sizing: border-box\n  }\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    line-height: 1.5;\n    font-weight: 300;\n    color: #111213;\n  }\n\n  hr {\n    margin: 0.5rem 0;\n    box-sizing: content-box;\n    height: 0;\n    overflow: visible;\n    border: 0;\n    border-top: 1px solid rgba(0, 0, 0, .1)\n  }\n\n  p {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  label {\n    display: inline-block;\n    margin-bottom: 0.4rem;\n  }\n\n  label, .btn {\n    margin-left: 0;\n    font-size: 0.1rem;\n  }\n\n  button, input, select {\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    overflow: visible;\n    text-transform: none\n  }\n\n  [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner, button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n\n  input[type=checkbox], input[type=radio] {\n    box-sizing: border-box;\n    padding: 0;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0 0.5rem 0 0;\n  }\n\n  h4 {\n    font-family: inherit;\n    line-height: 1.8;\n    font-weight: 300;\n    color: inherit;\n    font-size: 1.1rem;\n    margin-top: 0;\n    margin-bottom: .5rem\n  }\n\n  .btn {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    border: 1px solid transparent;\n    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\n    background-color: transparent;\n    background-image: none;\n    color: #25A5F7;\n    border-color: #25A5F7;\n    padding: .25rem .5rem;\n    line-height: 1.5;\n    border-radius: 1rem;\n    -webkit-appearance: button;\n    cursor:pointer;\n  }\n\n  .btn:hover {\n    color: #fff;\n    background-color: #25A5F7;\n    border-color: #25A5F7\n  }\n\n  .btn:hover {\n    text-decoration: none\n  }\n\n  .info hr {\n    margin-right: 0;\n    margin-left: 0;\n    border-top-color: grey;\n  }\n\n  .code .btn {\n    top: 1rem;\n    position: absolute;\n    right: 1rem;\n  }\n\n  .code .result {\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.5rem;\n    padding: 1rem;\n    bottom: 1rem;\n    position: absolute;\n    top: 5.5rem;\n    right: 1rem;\n    left: 1rem;\n    overflow: auto;\n  }\n\n  .code .status {\n    color: #80adff;\n    display: inline-block;\n    font-size: 14px;\n  }\n\n  .code h4 {\n    display: inline-block;\n    max-width: 20rem;\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n  }\n\n  select, input[type=text], input[type=date] {\n    display: inline-block;\n    width: 100%;\n    padding: .375rem 1.75rem .375rem .75rem;\n    line-height: 1.5;\n    color: #495057;\n    vertical-align: middle;\n    background: #fff url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") no-repeat right .75rem center;\n    background-size: 8px 10px;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none\n  }\n\n  input[type=text],input[type=date] {\n    background: #fff;\n    padding: .375rem .75rem;\n  }\n\n  select:focus, input[type=text]:focus, input[type=date]:focus {\n    border-color: #80bdff;\n    outline: 0;\n    box-shadow: 0 0 0 .1rem rgba(128, 189, 255, .1)\n  }\n\n  .btn:focus {\n    outline: 0;\n    box-shadow: none;\n  }\n\n  select:focus::-ms-value, input[type=text]:focus::-ms-value,input[type=date]:focus::-ms-value {\n    color: #495057;\n    background-color: #fff\n  }\n  @media screen and (min-width: 40rem) {\n    .native-toast:not(.native-toast-edge) {\n      max-width: 18rem;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/gis-navi-map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"container\"},on:{\"click\":_vm.mapclick}},[_c('div',{attrs:{\"id\":\"panel\"}}),_vm._v(\" \"),_c('div',{staticClass:\"input-card\",staticStyle:{\"width\":\"24rem\"}},[_c('label',{staticStyle:{\"color\":\"grey\"}},[_vm._v(\"地图导航\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[_vm._m(0),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"start\",\"type\":\"text\",\"placeholder\":\"请输入起点，必须\"},on:{\"click\":_vm.clickinput}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[_vm._m(1),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"approach1\",\"type\":\"text\",\"placeholder\":\"请输入第一个途径点，非必需\"},on:{\"click\":_vm.clickinput}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[_vm._m(2),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"approach2\",\"type\":\"text\",\"placeholder\":\"请输入第二个途径点，非必需\"},on:{\"click\":_vm.clickinput}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[_vm._m(3),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"stop\",\"type\":\"text\",\"placeholder\":\"请输入终点，必须\"},on:{\"click\":_vm.clickinput}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[[_c('el-radio-group',{model:{value:(_vm.navityp),callback:function ($$v) {_vm.navityp=$$v},expression:\"navityp\"}},[_c('el-radio',{attrs:{\"label\":3,\"value\":\"3\"}},[_vm._v(\"驾车模式\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":6,\"value\":\"6\"}},[_vm._v(\"步行模式\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":9,\"value\":\"9\"}},[_vm._v(\"公交模式\")])],1)]],2),_vm._v(\" \"),_c('input',{staticClass:\"btn\",attrs:{\"id\":\"navibutton\",\"type\":\"primary\",\"value\":\"起点 -> 终点\"},on:{\"click\":_vm.startnavi}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-item-prepend\"},[_c('span',{staticClass:\"input-item-text\"},[_vm._v(\"起点\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-item-prepend\"},[_c('span',{staticClass:\"input-item-text\"},[_vm._v(\"途径1\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-item-prepend\"},[_c('span',{staticClass:\"input-item-text\"},[_vm._v(\"途径2\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-item-prepend\"},[_c('span',{staticClass:\"input-item-text\"},[_vm._v(\"终点\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62c5356a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gis-navi-map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62c5356a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./gis-navi-map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./gis-navi-map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./gis-navi-map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62c5356a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./gis-navi-map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62c5356a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gis-navi-map.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}