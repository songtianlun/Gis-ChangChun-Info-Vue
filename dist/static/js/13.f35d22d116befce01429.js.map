{"version":3,"sources":["webpack:///src/pages/gis-master-map.vue","webpack:///./src/pages/gis-master-map.vue?809a","webpack:///./src/pages/gis-master-map.vue"],"names":["gis_master_map","name","data","that","this","map","infoWindow","indexplaceSearch","MplaceSearch","checked","mapruleradio","mouseTool","maprulecolse","advancedInfoWindow","infowindowmapclick","marker","mounted","_this","Object","js_AMap","then","AMap","console","log","scale","Scale","visible","toolBar","ToolBar","overView","OverView","Map","resizeEnable","center","zoom","isHotspot","addControl","MouseTool","placeSearch","PlaceSearch","on","result","getDetails","id","status","info","AdvancedInfoWindow","placeSearch_CallBack","auto","Autocomplete","input","event","addListener","select","service","pageSize","pageIndex","city","citylimit","panel","autoFitView","e","lnglat","getLng","getLat","cpoint","searchNearBy","infopoi","poiList","pois","content","address","tel","type","offset","Pixel","open","methods","mapclick","tipinputclick","close","clear","document","getElementById","style","visibility","markerclick","poiArr","location","setContent","createContent","poi","s","push","join","setCity","adcode","search","tipinputenter","inputstring","value","maprule","mapruleclose","watch","rule","startMarkerOptions","icon","Icon","size","Size","imageSize","image","endMarkerOptions","midMarkerOptions","lineOptions","strokeStyle","strokeColor","strokeOpacity","strokeWeight","measureArea","fillColor","fillOpacity","pages_gis_master_map","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","click","_v","_m","keyup","$event","indexOf","keyCode","model","callback","$$v","expression","staticStyle","width","label","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.f35d22d116befce01429.js","sourcesContent":["<template>\n  <div id=\"container\" class=\"map\" v-on:click=\"mapclick\">\n    <div id=\"tip\"></div>\n    <!--<div id=\"myPageTop\">-->\n      <!--<table>-->\n        <!--<tr>-->\n          <!--<td>-->\n            <!--<span class=\"input-item-text\" style=\"width:8rem;\">请输入关键字</span>-->\n            <!--&lt;!&ndash;<label>请输入关键字：</label>&ndash;&gt;-->\n          <!--</td>-->\n        <!--</tr>-->\n        <!--<tr>-->\n          <!--<td>-->\n            <!--<input id=\"tipinput\"/>-->\n          <!--</td>-->\n        <!--</tr>-->\n      <!--</table>-->\n    <!--</div>-->\n    <!--地图搜索-->\n    <div class=\"info\">\n      <div class=\"input-item\">\n        <div class=\"input-item-prepend\">\n          <span class=\"input-item-text\" style=\"width:5rem;\">请输入关键字</span>\n        </div>\n        <input id='tipinput' type=\"text\" v-on:click=\"tipinputclick\" v-on:keyup.13=\"tipinputenter\">\n        <el-checkbox v-model=\"checked\" id=\"checkhotpont\">地图热点</el-checkbox>\n        <el-button type=\"primary\" icon=\"el-icon-edit\" id=\"maprule\" size=\"mini\" v-on:click=\"maprule\">量算</el-button>\n      </div>\n    </div>\n    <div id=\"panel\"></div>\n    <!--地图量算-->\n    <div id=\"mapruledev\" class=\"input-card\" style='width: 22rem;'>\n      <div class=\"input-item-rule\">\n        <el-radio  v-model=\"mapruleradio\" label=\"prepare\">脑洞测量</el-radio>\n        <el-radio  v-model=\"mapruleradio\" label=\"rule\">距离测量</el-radio>\n        <el-radio  v-model=\"mapruleradio\" label=\"measureArea\">面积测量</el-radio>\n        <!--<el-radio v-model=\"radio\" label=\"1\">备选项</el-radio>-->\n        <!--<el-radio v-model=\"radio\" label=\"2\">备选项</el-radio>-->\n        <!--<input type=\"radio\" name='func' checked=\"\" value='rule'><span class=\"input-text-rule\">距离测量</span>-->\n        <!--<input type=\"radio\" name='func' value='measureArea'><span class=\"input-text-rule\">面积测量</span>-->\n      </div>\n      <div class=\"input-item-rule-button\">\n        <!--<input id=\"close\" type=\"button\" class=\"btn\" value=\"关闭\" />-->\n        <el-button v-model=\"mapruleclose\" class=\"btn\" type=\"danger\" size=\"mini\" v-on:click=\"mapruleclose\">停止量算</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import MapLoader from '../../src/assets/js/AMap.js'\n  export default {\n    name: 'gis-master-map',\n    // components: {AMap, AMapUI},\n    data () {\n      return {\n        that: this,\n        map: null,\n        infoWindow: null,\n        indexplaceSearch: null,\n        MplaceSearch: null,\n        checked: false, // 地图热点\n        mapruleradio: 'prepare',\n        mouseTool: null,\n        maprulecolse: null,\n        advancedInfoWindow: null,\n        infowindowmapclick: null, // 地图点击信息框\\\n        marker: []\n      }\n    },\n    mounted () {\n      // this.initmap()\n      let that = this\n      MapLoader().then(AMap => {\n        console.log('地图加载成功')\n        let scale = new AMap.Scale({\n          visible: true\n        })\n        let toolBar = new AMap.ToolBar({\n          visible: true\n        })\n        let overView = new AMap.OverView({\n          visible: true\n        })\n        this.map = new AMap.Map('container', {\n          resizeEnable: true,\n          center: [125.323877, 43.912301],\n          zoom: 12,\n          isHotspot: true\n        })\n        that.map.addControl(scale)\n        that.map.addControl(toolBar)\n        that.map.addControl(overView)\n        that.mouseTool = new AMap.MouseTool(that.map)\n        let placeSearch = new AMap.PlaceSearch() // 构造地点查询类\n        // that.infoWindow = new AMap.AdvancedInfoWindow({})\n        that.map.on('hotspotover', function (result) {\n          console.log('热点信息')\n          placeSearch.getDetails(result.id, function (status, result) {\n            if (status === 'complete' && result.info === 'OK' && that.checked === true) {\n              that.infoWindow = new AMap.AdvancedInfoWindow({})\n              that.placeSearch_CallBack(result)\n            }\n          })\n        })\n\n        // 输入提示\n        let autoOptions = {\n          input: 'tipinput'\n        }\n        let auto = new AMap.Autocomplete(autoOptions)\n        that.indexplaceSearch = new AMap.PlaceSearch({\n          // map: that.map\n        }) // 构造地点查询类\n        AMap.event.addListener(auto, 'select', that.select)// 注册监听，当选中某条记录时会触发\n        // AMap.event.addListener(that.MplaceSearch, 'markerClick', that.markerclick)// 注册监听，当选中某条记录时会触发\n        // 搜索结果显示\n        AMap.service(['AMap.PlaceSearch'], function () {\n          that.MplaceSearch = new AMap.PlaceSearch({ // 构造地点查询类\n            pageSize: 5, // 单页显示结果条数\n            pageIndex: 1, // 页码\n            city: '010', // 兴趣点城市\n            citylimit: false, // 是否强制限制在设置的城市内搜索\n            map: that.map, // 展现结果的地图实例\n            panel: 'panel', // 结果列表将在此容器中进行展示。\n            autoFitView: true // 是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围\n          })\n          // 关键字查询\n          // that.MplaceSearch.search('方恒国际中心｜大恒科技大厦')\n        })\n        // 地图点击事件\n        let clickHandler = function (e) {\n          console.log('您在[ ' + e.lnglat.getLng() + ',' + e.lnglat.getLat() + ' ]的位置点击了地图！')\n          // 根据经纬度搜索poi\n          //  构造地点查询类\n          let placeSearch = new AMap.PlaceSearch({})\n          let cpoint = [e.lnglat.getLng(), e.lnglat.getLat()] //  中心点坐标\n          placeSearch.searchNearBy('', cpoint, 200, function (status, result) {\n            // console.log(result.poiList.pois[0])\n            // content = that.createContent(result.poiList.pois[0])\n            // infopoi = result.poiList.pois[0]\n            // console.log(result.poiList.pois[0])\n            let infopoi = result.poiList.pois[0]\n            let content = '<div>' + infopoi.name + '</div><div>' + '地址：' + infopoi.address + '</br>' +\n              '电话：' + infopoi.tel + '</br>' +\n              '类型：' + infopoi.type +\n              '<div>'\n            // console.log(content)\n            that.infowindowmapclick = new AMap.AdvancedInfoWindow({\n              content: content,\n              offset: new AMap.Pixel(0, -30)\n            })\n            that.infowindowmapclick.open(that.map, cpoint)\n          })\n        }\n        // 绑定事件\n        that.map.on('click', clickHandler)\n      }, e => {\n        console.log('地图加载失败', e)\n      })\n    },\n    methods: {\n      mapclick () {\n        let that = this\n      },\n      tipinputclick () {\n        let that = this\n        console.log('输入框被点击')\n        that.infowindowmapclick.close()// 关闭高级信息框\n        that.MplaceSearch.clear() // 清除搜索结果\n        document.getElementById('panel').style.visibility = 'hidden'// 隐藏\n        // let i = 0\n        // while (i < that.marker.length) {\n        //   console.log(that.marker[i])\n        //   that.map.remove(that.marker[i])\n        //   i++\n        // }\n      },\n      markerclick: function (e) {\n        console.log('marker被点击')\n      },\n      // 回调函数\n      placeSearch_CallBack: function (data) { // infoWindow.open(map, result.lnglat);\n        let that = this\n        console.log('placeSearch_CallBack地点查询回调函数运行')\n        let poiArr = data.poiList.pois\n        let location = poiArr[0].location\n        that.infoWindow.setContent(that.createContent(poiArr[0]))\n        that.infoWindow.open(this.map, location)\n      },\n      createContent: function (poi) { // 信息窗体内容\n        let s = []\n        s.push('<div class= \"info-title\">' + poi.name + '</div><div class=\"info-content\">' + '地址：' + poi.address)\n        s.push('电话：' + poi.tel)\n        s.push('类型：' + poi.type)\n        s.push('<div>')\n        return s.join('<br>')\n      },\n      select: function (e) {\n        let that = this\n        that.indexplaceSearch.setCity(e.poi.adcode)\n        // that.indexplaceSearch.search(e.poi.name, function (status, result) {\n        //   console.log('这里是选择后的查询结果')\n        //   console.log(result)\n        // })\n        // 关键字查询查询\n        that.MplaceSearch.search(e.poi.name, function (status, result) {\n          // // 查询成功时，result即对应匹配的POI信息\n          // console.log(result)\n          // var pois = result.poiList.pois\n          // for (var i = 0; i < pois.length; i++) {\n          //   var poi = pois[i]\n          //   // that.marker = []\n          //   that.marker[i] = new AMap.Marker({\n          //     position: poi.location, // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\n          //     title: poi.name + '测试'\n          //   })\n          //   // 将创建的点标记添加到已有的地图实例：\n          //   that.map.add(that.marker[i])\n          // }\n        }) //  搜索结果加载列表\n        // let layers = that.map.getLayers()\n        // console.log(layers)\n        // console.log(e.poi.name)\n        document.getElementById('panel').style.visibility = 'visible'// 显示\n      },\n      tipinputenter: function () {\n        let inputstring = document.getElementById('tipinput').value\n        console.log(inputstring)\n        let that = this\n        // that.infowindowmapclick.close()// 关闭高级信息框\n        // 关键字查询查询\n        that.MplaceSearch.search(inputstring, function (status, result) {\n          // // 查询成功时，result即对应匹配的POI信息\n          // console.log(result)\n          // var pois = result.poiList.pois\n          // for (var i = 0; i < pois.length; i++) {\n          //   var poi = pois[i]\n          //   // that.marker = []\n          //   that.marker[i] = new AMap.Marker({\n          //     position: poi.location, // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\n          //     title: poi.name + '测试'\n          //   })\n          //   // 将创建的点标记添加到已有的地图实例：\n          //   that.map.add(that.marker[i])\n          // }\n        }) //  搜索结果加载列表\n        document.getElementById('panel').style.visibility = 'visible'// 显示\n      },\n      maprule: function () {\n        let that = this\n        console.log('开始量算按钮被电击')\n        document.getElementById('mapruledev').style.visibility = 'visible'// 显示\n        that.checked = false\n        that.infoWindow.close()// 关闭地图热点信息框\n        that.mapruleradio = 'prepare'\n      },\n      mapruleclose: function () {\n        let that = this\n        //   document.getElementById('mapruleclose').onclick = function(){\n        that.mouseTool.close(true)// 关闭，并清除覆盖物\n        console.log('停止量算被点击')\n        //     for(var i=0;i<radios.length;i+=1){\n        //       radios[i].checked = false;\n        //     }\n        // }\n        document.getElementById('mapruledev').style.visibility = 'hidden'// 隐藏\n      }\n    },\n    watch: {\n      'checked': function () {\n        let that = this\n        console.log('watch中的checkhotpot被触发')\n        that.infoWindow.close()\n        // console.log(that.checked)\n        // if (that.checked === true) {\n        //   that.infoWindow.close()\n        //   that.checked = false\n        // } else {\n        //   that.checked = true\n        // }\n      },\n      mapruleradio: function () {\n        let that = this\n        switch (that.mapruleradio) {\n          case 'rule': {\n            that.mouseTool.rule({\n              startMarkerOptions: {// 可缺省\n                icon: new AMap.Icon({\n                  size: new AMap.Size(19, 31), // 图标大小\n                  imageSize: new AMap.Size(19, 31),\n                  image: 'https://webapi.amap.com/theme/v1.3/markers/b/start.png'\n                })\n              },\n              endMarkerOptions: {// 可缺省\n                icon: new AMap.Icon({\n                  size: new AMap.Size(19, 31), // 图标大小\n                  imageSize: new AMap.Size(19, 31),\n                  image: 'https://webapi.amap.com/theme/v1.3/markers/b/end.png'\n                }),\n                offset: new AMap.Pixel(-9, -31)\n              },\n              midMarkerOptions: {// 可缺省\n                icon: new AMap.Icon({\n                  size: new AMap.Size(19, 31), // 图标大小\n                  imageSize: new AMap.Size(19, 31),\n                  image: 'https://webapi.amap.com/theme/v1.3/markers/b/mid.png'\n                }),\n                offset: new AMap.Pixel(-9, -31)\n              },\n              lineOptions: {// 可缺省\n                strokeStyle: 'solid',\n                strokeColor: '#FF33FF',\n                strokeOpacity: 1,\n                strokeWeight: 2\n              }\n              // 同 RangingTool 的 自定义 设置，缺省为默认样式\n            })\n            break\n          }\n          case 'measureArea': {\n            that.mouseTool.measureArea({\n              strokeColor: '#80d8ff',\n              fillColor: '#80d8ff',\n              fillOpacity: 0.3\n              // 同 Polygon 的 Option 设置\n            })\n            break\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n    #container {width:300px; height: 180px; margin:0 auto;width: 100%;height: 100%}\n  .map{\n    height: 100%;\n    width: 100%;\n    float: left;\n  }\n  #checkhotpont{\n    position: absolute;\n    top: 45px;\n    right: 180px;\n  }\n  #maprule{\n    position: absolute;\n    top: 40px;\n    right: 50px;\n  }\n  #tipinput{\n    top: -11px;\n    z-index:9990;\n  }\n  .input-item-rule{\n    height: 60px;\n    text-align: center;\n    vertical-align: middle;\n    position: relative;\n  }\n  .input-item-rule-button{\n    height: 30px;\n    text-align: center;\n    vertical-align: middle;\n    position: relative;\n  }\n  .input-card {\n    z-index:9990;\n    display: flex;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-color: #fff;\n    background-clip: border-box;\n    border-radius: .25rem;\n    width: 22rem;\n    border-width: 0;\n    border-radius: 0.4rem;\n    box-shadow: 0 2px 6px 0 rgba(114, 124, 245, .5);\n    position: fixed;\n    bottom: 4rem;\n    right: 1rem;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    padding: 0.75rem 1.25rem;\n    visibility: hidden;\n  }\n  #myPageTop {\n    z-index:9990;\n    /*position: relative;*/\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    width: 280px;\n    background: #fff none repeat scroll 0 0;\n    border: 1px solid #ccc;\n    margin: 10px auto;\n    padding:6px;\n    font-family: \"Microsoft Yahei\", \"微软雅黑\", \"Pinghei\";\n    font-size: 14px;\n  }\n  #panel {\n    z-index:9990;\n    position: absolute;\n    background-color: white;\n    max-height: 90%;\n    overflow-y: auto;\n    top: 100px;\n    right: 22px;\n    width: 340px;\n  }\n  #tip{\n    z-index:999;\n  }\n  .info-title{\n    font-weight: bolder;\n    color: #fff;\n    font-size: 14px;\n    line-height: 26px;\n    padding: 0 0 0 6px;\n    background: #25A5F7\n  }\n  .info-content{\n    padding: 4px;\n    color: #666666;\n    line-height: 23px;\n    font: 12px Helvetica, 'Hiragino Sans GB', 'Microsoft Yahei', '微软雅黑', Arial;\n  }\n  .info-content img{\n    float: left;\n    margin: 3px;\n  }\n  .amap-info-combo .keyword-input {\n    height: auto;\n  }\n  .input-item-text, input[type=text],input[type=date], select {\n    height: calc(2.2rem + 2px);\n  }\n\n  .input-item-text {\n    width: 6rem;\n    text-align: justify;\n    padding: 0.4rem 0.7rem;\n    display: inline-block;\n    text-justify: distribute-all-lines;\n    /*ie6-8*/\n    text-align-last: justify;\n    /* ie9*/\n    -moz-text-align-last: justify;\n    /*ff*/\n    -webkit-text-align-last: justify;\n    /*chrome 20+*/\n    -ms-flex-align: center;\n    align-items: center;\n    margin-bottom: 0;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    text-align: center;\n    white-space: nowrap;\n    background-color: #e9ecef;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n\n  .input-item-text input[type=checkbox], .input-item-text input[type=radio] {\n    margin-top: 0\n  }\n  .info {\n    z-index:999;\n    padding: .75rem 1.25rem;\n    margin-bottom: 1rem;\n    border-radius: .6rem;\n    position: fixed;\n    top: 4rem;\n    background-color: white;\n    width: auto;\n    min-width: 22rem;\n    border-width: 0;\n    right: 1rem;\n    box-shadow: 0 2px 6px 0 rgba(114, 124, 245, .5);\n  }\n  .input-item {\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n    -ms-flex-align: center;\n    align-items: center;\n    width: 100%;\n    height: 4rem;\n  }\n\n  .input-item:last-child {\n    margin-bottom: 0;\n  }\n\n  .input-item>select, .input-item>input[type=text], .input-item>input[type=date] {\n    position: relative;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    width: 1%;\n    margin-bottom: 0;\n  }\n\n  .input-item>select:not(:last-child), .input-item>input[type=text]:not(:last-child), .input-item>input[type=date]:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0\n  }\n\n  .input-item>select:not(:first-child), .input-item>input[type=text]:not(:first-child), .input-item>input[type=date]:not(:first-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0\n  }\n\n  .input-item-prepend {\n    margin-right: -1px;\n    height: 3rem;\n  }\n\n  .input-item-text, input[type=text],input[type=date], select {\n    height: calc(1rem + 2px);\n  }\n\n  .input-item-text {\n    width: 6rem;\n    text-align: justify;\n    padding: 0.2rem 0.4rem;\n    display: inline-block;\n    text-justify: distribute-all-lines;\n    /*ie6-8*/\n    text-align-last: justify;\n    /* ie9*/\n    -moz-text-align-last: justify;\n    /*ff*/\n    -webkit-text-align-last: justify;\n    /*chrome 20+*/\n    -ms-flex-align: center;\n    align-items: center;\n    margin-bottom: 0;\n    font-size: 0.4rem;\n    font-weight: 500;\n    line-height: 1.5;\n    color: #495057;\n    text-align: center;\n    white-space: nowrap;\n    background-color: #e9ecef;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n\n  .input-item-text input[type=checkbox], .input-item-text input[type=radio] {\n    margin-top: 0\n  }\n  .input-item-prepend {\n    margin-right: 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/gis-master-map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"container\"},on:{\"click\":_vm.mapclick}},[_c('div',{attrs:{\"id\":\"tip\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"input-item\"},[_vm._m(0),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"tipinput\",\"type\":\"text\"},on:{\"click\":_vm.tipinputclick,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.tipinputenter($event)}}}),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"id\":\"checkhotpont\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"地图热点\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"id\":\"maprule\",\"size\":\"mini\"},on:{\"click\":_vm.maprule}},[_vm._v(\"量算\")])],1)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"panel\"}}),_vm._v(\" \"),_c('div',{staticClass:\"input-card\",staticStyle:{\"width\":\"22rem\"},attrs:{\"id\":\"mapruledev\"}},[_c('div',{staticClass:\"input-item-rule\"},[_c('el-radio',{attrs:{\"label\":\"prepare\"},model:{value:(_vm.mapruleradio),callback:function ($$v) {_vm.mapruleradio=$$v},expression:\"mapruleradio\"}},[_vm._v(\"脑洞测量\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"rule\"},model:{value:(_vm.mapruleradio),callback:function ($$v) {_vm.mapruleradio=$$v},expression:\"mapruleradio\"}},[_vm._v(\"距离测量\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"measureArea\"},model:{value:(_vm.mapruleradio),callback:function ($$v) {_vm.mapruleradio=$$v},expression:\"mapruleradio\"}},[_vm._v(\"面积测量\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"input-item-rule-button\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.mapruleclose},model:{value:(_vm.mapruleclose),callback:function ($$v) {_vm.mapruleclose=$$v},expression:\"mapruleclose\"}},[_vm._v(\"停止量算\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-item-prepend\"},[_c('span',{staticClass:\"input-item-text\",staticStyle:{\"width\":\"5rem\"}},[_vm._v(\"请输入关键字\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6569072b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gis-master-map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6569072b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./gis-master-map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./gis-master-map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./gis-master-map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6569072b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./gis-master-map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6569072b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gis-master-map.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}